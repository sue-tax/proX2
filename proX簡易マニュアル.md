# proX簡易マニュアル

## 概要

テキストデータ（マークダウン記法を推奨）の中の変数を含めた計算式を計算します。

例えば、次のようなテキストデータを変換すると、

```
"配当:5,000円"
”国税：'配当'×0.15×1.021＝|d0|"
手取[’配当’－’国税’]
```

下記のように、変換されます。

```
"配当:5,000円"
”国税：'配当:5,000円'×0.15×1.021＝765円|d0|"
手取[’配当:5,000円’－’国税:765円’=4,235円]
```

変数の定義は、" " で囲みます。: の前が変数名、: の後ろが変数の値です。

変数の参照は、' ' で変数名を囲みます。

|d0| は、端数処理の指示で、小数点以下第０位より下の桁を切捨てます。

[ ] は、計算をするだけです。

[表](https://github.com/sue-tax/proX2#表変数)を利用した簡単な計算もできます。

数値には、全角や漢数字を使えます。 記号も全角が使えます。

## インストール

### JAVAの実行環境

### javaFXのライブラリ

## 起動方法

batファイル

## 操作手順

1. 「元テキスト」ウィンドゥに、変換したい計算式を含んだテキストデータを入力します。入力方法は、下記の通りです。
    - 直接入力します。
    - クリップボードよりペーストします。
    - ファイルを開きます。
2. 「変換」ボタンをクリックすると、「元テキスト」ウィンドゥの中の計算式を計算した結果を反映したテキストデータを「変換後テキスト」ウィンドゥにセットされます。計算式にエラーがある場合は、

3. 「変換後テキスト」ウィンドゥ内のテキストデータは、次の方法で利用できます。
    - クリックボードにコピーします。
    - 開いたファイルに上書保存します。
    - 新たなファイルに保存します。

※==Alt＋R==で、「クリップボードより元テキストにペースト」し、「変換」し、「変換後テキストをクリップボードにコピー」します。proXのウィンドゥが==アクティブになっていない状態でも、機能します==。

## ウィンドウの説明

　ウィンドゥは大きく６つに分かれています。

上段左：元テキストエリア

上段右：変換後テキストエリア

中段左：エラー表示エリア

中段右：比較表示エリア

下段左：前処理エリア

下段右：メッセージエリア

　ウィンドゥ全体の大きさ、エリアの上下の境界（下段の高さは固定）、左右の境界は、マウスで変更できます。

### 元テキストエリア

　変換したい計算式を含んだテキストデータ（元テキスト）を扱います。

==ファイル名未作成==

　スピナーに行番号を入力すると、元テキストウィンドゥをスクロールして、その行が表示されます。

### 変換後テキストエリア

　計算式を計算した結果を反映したテキストデータ（変換後テキスト）を扱います。

==ファイル名未作成==

　スピナーに行番号を入力すると、変換後テキストウィンドゥをスクロールして、その行が表示されます。

### エラー表示エリア

　変換の際のエラーの数、エラーが発生した行のデータを表示します。

### 比較表示エリア

　変換前の元テキストと計算式を計算した結果を反映した変換後テキストと異なる行のデータを表示します。

　異なる部分は＜＞で囲み、変換前は緑、変換後は青、エラーメッセージ部分は赤で表示します。

　スピナーに行番号を入力すると、元テキストウィンドゥ・変換後テキストウィンドゥをスクロールして、その行が表示されます。

### 前処理エリア

　元テキストの前に結合したいテキストデータを指定します。

　テキスト全体ではなく、テキストの一部ずつ処理する際に便利です。

### メッセージエリア

## ボタンの説明

==未作成==

変換

清書

整形
